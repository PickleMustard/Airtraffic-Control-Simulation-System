#:kivy 2.0.0

# GroundCrewSimulation.kv
#   Definition of the GUI for simulation of the ground crew

<GroundCrewSimulatedWorker>:
    size_hint: .1, .1
    animAngle: 0

    Image: 
        canvas.before: 
            PushMatrix
            # Color Only needed for testing. It shows the scaling of image relative to the root widget
            Color:
                rgba: 0, 0, 1, 1    # Blue
            Rotate:
                angle: root.animAngle
                origin: self.center
            Rectangle:
                pos: self.pos
                size: self.size
        canvas.after:
            PopMatrix
        source: "./resources/images/GoogleAirplane.png"
        pos: root.pos
        size: root.height, root.height
        allow_stretch: True
        keep_ratio: "True"

<GroundCrewSimulationWindow>:
    name: "GroundCrewSimulation"

    GridLayout:
        rows: 2

        TopBarLayout:
            title_text: "Ground Crew Simulation"

        GridLayout: 
            canvas:
                Color:
                    rgba: 0.4, 0.4, 0.4, 1
                Rectangle:
                    size: self.size
                    pos: self.pos

            size_hint: 1, .07
            cols: 3
            spacing: dp(10)

            padding: dp(4)

            Button:
                text: "Engineering checks"
                #on_release: 
            
            Button:
                text: "Extend Gate"
                #on_release:

            Button:
                text: "Extend Gate"
                #on_release:

            Button:
                text: "Extend Gate"
                #on_release:

            Button:
                text: "Extend Gate"
                #on_release:

            Button:
                text: "Extend Gate"
                #on_release:

        FloatLayout:
            # TODO: Remove this button once animatyion is automated
            # Temporary button to trigger animation for testing
            Button:
                text: "Start animation"
                size_hint: .25,.25
                on_release:
                    root.planeAnimate(0, 500, 400, 45)
                pos: 600, 300
            Button:
                text: "Start animation"
                size_hint: .25,.25
                on_release:
                    root.planeAnimate(0, 600, 100, 45)
                pos: 100, 300
            Button:
                text: "Start animation"
                size_hint: .25,.25
                on_release:
                    root.planeAnimate(0, 100, 500, 45)
                pos: 800, 300